cc_library(
  name="mutator",
  hdrs=["mutator.h"],
  deps=["//program:program"],
  visibility=["//evolver:__pkg__"],
)

cc_library(
  name="mutator_point_random",
  srcs=["mutator_point_random.cc"],
  hdrs=["mutator_point_random.h"],
  deps=[
    ":mutator",
    "//util:random",
  ],
  visibility=[
    "//examples:__subpackages__",
    "//evolver:__pkg__",
  ],
)

cc_test(
  name="mutator_point_random_test",
  srcs=["mutator_point_random_test.cc"],
  deps=[
    ":mutator_point_random",
    "//util:random_mock",
    "@com_google_googletest//:gtest_main",
  ],
  data=["//elfs:simple_small"],
)

cc_library(
  name="mutator_recombine_random",
  srcs=["mutator_recombine_random.cc"],
  hdrs=["mutator_recombine_random.h"],
  deps=[
    ":mutator",
    "//util:random",
  ],
  visibility=[
    "//examples:__subpackages__",
  ],
)

cc_test(
  name="mutator_recombine_random_test",
  srcs=["mutator_recombine_random_test.cc"],
  deps=[
    ":mutator_recombine_random",
    "//util:random_mock",
    "@com_google_googletest//:gtest_main",
  ],
  data=["//elfs:simple_small"],
)

cc_library(
  name="mutator_composite",
  srcs=["mutator_composite.cc"],
  hdrs=["mutator_composite.h"],
  deps=[":mutator"],
)

cc_library(
  name="mutator_composite_random",
  srcs=["mutator_composite_random.cc"],
  hdrs=["mutator_composite_random.h"],
  deps=[
    ":mutator_composite",
    "//util:random",
  ],
  visibility=[
    "//examples:__subpackages__",
  ],
)

cc_test(
  name="mutator_composite_random_test",
  srcs=["mutator_composite_random_test.cc"],
  deps=[
    ":mutator_point_random",
    ":mutator_recombine_random",
    ":mutator_composite_random",
    "//util:random_mock",
    "@com_google_googletest//:gtest_main",
  ],
  data=["//elfs:simple_small"],
)
